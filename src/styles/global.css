@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap');

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
  }

  body {
    @apply bg-terminal-bg text-terminal-text font-sans antialiased;
    background-image: 
      radial-gradient(circle at 25% 25%, rgba(0, 212, 255, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, rgba(168, 85, 247, 0.03) 0%, transparent 50%);
  }

  ::selection {
    @apply bg-accent-cyan/30 text-terminal-bright;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-terminal-bg;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-terminal-muted rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-accent-cyan/50;
  }

  /* Accessibility - Focus visible states */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-accent-cyan;
  }

  /* Skip to main content link (screen readers) */
  .skip-link {
    @apply absolute -top-10 left-4 z-50 px-4 py-2 bg-accent-cyan text-terminal-bg font-semibold rounded-lg transition-all;
  }

  .skip-link:focus {
    @apply top-4;
  }
}

@layer components {
  /* Terminal window styling */
  .terminal-window {
    @apply bg-terminal-surface border border-terminal-border rounded-lg overflow-hidden;
    box-shadow: 
      0 0 0 1px rgba(255, 255, 255, 0.05),
      0 25px 50px -12px rgba(0, 0, 0, 0.5);
  }

  .terminal-header {
    @apply flex items-center gap-2 px-4 py-3 bg-terminal-bg/50 border-b border-terminal-border;
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-full;
  }

  .terminal-dot-red { @apply bg-red-500; }
  .terminal-dot-yellow { @apply bg-yellow-500; }
  .terminal-dot-green { @apply bg-accent-green; }

  /* Glow effects */
  .glow-cyan {
    box-shadow: 0 0 40px rgba(0, 212, 255, 0.15);
  }

  .glow-purple {
    box-shadow: 0 0 40px rgba(168, 85, 247, 0.15);
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-accent-cyan via-accent-purple to-accent-cyan bg-300% animate-gradient bg-clip-text text-transparent;
  }

  /* Section styling */
  .section-heading {
    @apply font-mono text-accent-cyan text-sm tracking-widest uppercase mb-2;
  }

  .section-title {
    @apply text-3xl md:text-4xl font-bold text-terminal-bright mb-6;
  }

  /* Card styling */
  .card {
    @apply bg-terminal-surface/50 border border-terminal-border rounded-xl p-6 
           transition-all duration-300 hover:border-accent-cyan/30 hover:bg-terminal-surface;
  }

  .card:hover {
    box-shadow: 0 0 30px rgba(0, 212, 255, 0.1);
  }

  /* Button styling */
  .btn-primary {
    @apply inline-flex items-center gap-2 px-6 py-3 bg-accent-cyan text-terminal-bg 
           font-semibold rounded-lg transition-all duration-300 
           hover:bg-accent-cyan/90 hover:shadow-lg hover:shadow-accent-cyan/25
           focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent-cyan focus-visible:ring-offset-terminal-bg;
  }

  .btn-outline {
    @apply inline-flex items-center gap-2 px-6 py-3 border border-accent-cyan text-accent-cyan 
           font-semibold rounded-lg transition-all duration-300 
           hover:bg-accent-cyan/10 hover:shadow-lg hover:shadow-accent-cyan/10
           focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent-cyan focus-visible:ring-offset-terminal-bg;
  }

  /* Link styling */
  .link {
    @apply text-accent-cyan hover:text-accent-cyan/80 transition-colors underline-offset-4 hover:underline;
  }

  /* Pipeline node */
  .pipeline-node {
    @apply relative flex items-center justify-center w-14 h-14 rounded-xl 
           bg-terminal-surface border border-terminal-border transition-all duration-300;
  }

  .pipeline-node:hover {
    @apply border-accent-cyan bg-accent-cyan/10;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
  }

  .pipeline-connector {
    @apply w-8 h-0.5 bg-gradient-to-r from-terminal-muted to-accent-cyan/50;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Noise texture overlay */
  .noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
  }

  /* Fade mask for sections */
  .fade-mask {
    mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
  }
}
